/*! event-emitter(https://github.com/riversun/event-emitter) v1.2.0 Copyright (c) 2020 riversun.org@gmail.com */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("EventEmitter",[],t):"object"==typeof exports?exports.EventEmitter=t():e.EventEmitter=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.r(t),n.d(t,"default",(function(){return l})),n.d(t,"EventListenerList",(function(){return o})),n.d(t,"EventListenerMap",(function(){return a}));var l=function(){function e(t){if(r(this,e),this.onListeners=new Map,this.onlyListeners=new Map,t){var n=!0,i=!1,u=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var s=l.value,c=new o;this.onListeners.set(s,c)}}catch(e){i=!0,u=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw u}}}this.childEventEmitters=[]}return u(e,[{key:"on",value:function(e,t){var n=this.onListeners.get(e);n||(n=new o,this.onListeners.set(e,n)),n.addListenerFunc(t)}},{key:"only",value:function(e,t,n){var r=this.onlyListeners.get(e);r||(r=new a,this.onlyListeners.set(e,r)),r.putListenerFunc(t,n)}},{key:"pipe",value:function(e){this.childEventEmitters.push(e)}},{key:"emit",value:function(e,t){var n=this.onListeners.get(e);n&&(t.eventName=e,n.callListenerFunc(t));var r=this.onlyListeners.get(e);r&&r.callListenerFunc(t);var i=!0,u=!1,l=void 0;try{for(var o,a=this.childEventEmitters[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){o.value.emit(e,t)}}catch(e){u=!0,l=e}finally{try{i||null==a.return||a.return()}finally{if(u)throw l}}}},{key:"hasListenerFuncs",value:function(e){if(this.onListeners.has(e)){var t=this.onListeners.get(e);if(t&&t.hasListenerFunc())return!0}var n=!0,r=!1,i=void 0;try{for(var u,l=this.childEventEmitters[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){if(u.value.hasListenerFuncs(e))return!0}}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return!1}},{key:"clearAll",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.onListeners.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.clearAll()}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.onListeners.clear();var u=!0,l=!1,o=void 0;try{for(var a,s=this.onlyListeners.values()[Symbol.iterator]();!(u=(a=s.next()).done);u=!0){a.value.clearAll()}}catch(e){l=!0,o=e}finally{try{u||null==s.return||s.return()}finally{if(l)throw o}}this.onlyListeners.clear(),this.childEventEmitters=[]}}]),e}(),o=function(){function e(){r(this,e),this.listenerFuncs=[]}return u(e,[{key:"clearAll",value:function(){this.listenerFuncs=[]}},{key:"hasListenerFunc",value:function(){return this.listenerFuncs.length>0}},{key:"addListenerFunc",value:function(e){this.listenerFuncs.push(e)}},{key:"callListenerFunc",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,u=this.listenerFuncs[Symbol.iterator]();!(t=(i=u.next()).done);t=!0){(0,i.value)(e)}}catch(e){n=!0,r=e}finally{try{t||null==u.return||u.return()}finally{if(n)throw r}}}}]),e}(),a=function(){function e(){r(this,e),this.listenerFuncMap=new Map}return u(e,[{key:"clearAll",value:function(){this.listenerFuncMap.clear()}},{key:"hasListenerFunc",value:function(e){return this.listenerFuncMap.has(e)}},{key:"putListenerFunc",value:function(e,t){this.listenerFuncMap.set(e,t)}},{key:"callListenerFunc",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,u=this.listenerFuncMap.values()[Symbol.iterator]();!(t=(i=u.next()).done);t=!0){(0,i.value)(e)}}catch(e){n=!0,r=e}finally{try{t||null==u.return||u.return()}finally{if(n)throw r}}}}]),e}()}]).default}));